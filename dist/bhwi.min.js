var BhwiOptions=function(){function i(i){var t={dom_element:"bhwi",type:"instagram",speed:4e3,form:"timeline",lightbox:!0};this.options=jQuery.extend(t,i),this._validateOptions()}return i.prototype._validateOptions=function(){if("instagram"==this.options.type){if(null==this.options.client_id)throw new Error('For the instagram API the "client_id" is needed.')}else if(null==this.options.url)throw new Error('For the bhwi API the "url" is needed.')},i}(),BhwiHelper=function(){function i(i){this.dom_element=jQuery("#"+i).addClass("bhwi")}return i.prototype.buildLink=function(i){return jQuery("<a>").attr({href:i,target:"_blank"})},i.prototype.buildImage=function(i){return jQuery("<img>").attr("src",i)},i.prototype.buildSlide=function(i,t){return this.buildLink(i).append(this.buildImage(t))},i.prototype.append=function(i){i.appendTo(this.dom_element)},i.prototype.interval=function(i,t){var e=this;i();var n=function(){e.interval(i,t)};setTimeout(n,t)},i.prototype.nullTry=function(i,t){return null==i?null:i[t]},i}(),BhwiSliderCurrent=function(){function i(){this.position=-1}return i.prototype.setSliderCurrent=function(i,t,e){this.position=i,this.bhwi_image=t,this.jquery_element=e},i}(),BhwiSlider=function(){function i(i,t,e){var n=this;this._sildeImage=function(){var i=n.bhwi_silder_current.position+1;0!=i&&n.bhwi_silder_current.jquery_element.removeClass("current").fadeOut(n.speed/2),i==n.bhwi_images.images.length&&(i=0),n._setImage(n.bhwi_images.images[i],i)},this.bhwi_silder_current=new BhwiSliderCurrent,this.bhwi_helper=i,this.bhwi_images=t,this.speed=e,this.bhwi_helper.interval(this._sildeImage,this.speed),this.bhwi_helper.dom_element.addClass("bhwi-slider")}return i.prototype._setImage=function(i,t){var e=$('a[href$="'+i.link+'"]');e.length?e.addClass("current").fadeIn(this.speed/2):(e=this.bhwi_helper.buildSlide(i.link,i.standard).addClass("current").fadeIn(this.speed/2),this.bhwi_helper.append(e)),this.bhwi_silder_current.setSliderCurrent(t,i,e)},i}(),BhwiImage=function(){function i(i,t,e,n,r,s){this.link=i,this.standard=t,this.thumbnail=e,this.author=n,this.text=r,this.created_time=s}return i}(),BhwiImages=function(){function i(){this.images=new Array}return i.prototype.addImage=function(i){this.images.push(i)},i.prototype.addBuildImage=function(i,t,e,n,r,s){this.addImage(new BhwiImage(i,t,e,n,r,s))},i}(),BhwiUser=function(){function i(i,t){this.id=i,"bhwi"===t.options.type?this.url=this._buildBhwiUrl(t.options.url):this.url=this._buildInstagramUrl(t.options.client_id)}return i.prototype._buildInstagramUrl=function(i){return"https://api.instagram.com/v1/users/"+this.id+"/media/recent/?client_id="+i+"&callback=?"},i.prototype._buildBhwiUrl=function(i){return i+this.id},i}(),Bhwi=function(){function i(i,t){var e=this;this._initBhwiSlider=function(){e.bhwi_silder=new BhwiSlider(e.bhwi_helper,e.bhwi_images,e.bhwi_options.options.speed)},this._basicVaildation(i,t),this.bhwi_options=new BhwiOptions(t),this.bhwi_helper=new BhwiHelper(this.bhwi_options.options.dom_element),this.bhwi_user=new BhwiUser(i,this.bhwi_options),this.bhwi_images=new BhwiImages,this._fillBhwiImages(this._initBhwiSlider)}return i.prototype._fillBhwiImages=function(i){var t=this;jQuery.getJSON(this.bhwi_user.url).done(function(e){jQuery.each(e.data,function(i,e){t.bhwi_images.addBuildImage(e.link,e.images.standard_resolution.url,e.images.thumbnail.url,e.user.username,t.bhwi_helper.nullTry(e.caption,"text"),e.created_time)}),i()})},i.prototype._basicVaildation=function(i,t){if(null==i)throw new Error('The param "id" is required.');if(null==t)throw new Error('The param "options" are required.')},i}();